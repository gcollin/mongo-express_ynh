#:schema https://raw.githubusercontent.com/YunoHost/apps/master/schemas/manifest.v2.schema.json

packaging_format = 2

id = "mongo-express"
name = "Mongo Express"
description.en = "Admin server for Mongo and optionally Mongo database"
description.fr = "Serveur d'administration pour Mongo ainsi qu'optionnellement une base Mongo"

version = "1.1.0-rc-3~ynh1"

maintainers = ["Gerard Collin"]

[upstream]
license = "MIT"
code = "https://github.com/mongo-express/mongo-express"
cpe = "cpe:2.3:a:mongo-express_project:mongo-express"

[integration]
yunohost = ">= 12.1.17"
helpers_version = "2.1"
architectures = ["amd64"]
multi_instance = false

ldap = "not_relevant"

sso = "not_relevant"

disk = "50M"
ram.build = "50M"
ram.runtime = "50M"

[install]
[install.domain]
type = "domain"

[install.path]
type = "path"
default = "/mongo"

[install.init_main_permission]
type = "group"
default = "visitors"

[install.mongo_version]
ask.en = "Select the major version of Mongo to install or 'None' if already installed"
ask.fr = "Choisissez la version de Mongo a installer ou 'None' si Mongo est déjà installé"
type = "select"
choices = ["None", "4.4", "5.0", "6.0", "7.0"]
default = "7.0"

[resources]
[resources.sources.main]
url = "https://github.com/gcollin/mongo-express/releases/download/v1.1.0-rc3/mongo-express-1.1.0-rc-3.tgz"
sha256 = "bbfbc60369d9a8e6297caa99e0e363eb92815c790d7995de783e6a66d0596127"

autoupdate.strategy = "latest_github_release"
autoupdate.asset = "tarball"

[resources.system_user]

[resources.install_dir]

[resources.data_dir]

[resources.permissions]
main.url = "/"

[resources.ports]
main.default = 8096

[resources.nodejs]
version = "20"
